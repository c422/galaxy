{"version":3,"sources":["../../qin-ui/dist/components/HStack/index.js","../../qin-ui/dist/components/VStack/index.js","../../nexus/dist/client/index.js","../../nexus/dist/client/routes/space.js","../../nexus/dist/client/types/generic.js","../../qin-ui/dist/components/HStack/style.js","../../qin-ui/dist/components/VStack/style.js","components/FileBrowser/style.ts","../../nexus/client.ts","components/FileBrowser/index.tsx","components/NavigationBar/index.tsx","views/BrowserView/index.tsx","views/LoginView/index.tsx","views/NotFoundView/index.tsx","views/RouteView/index.tsx","serviceWorker.ts","index.tsx","../../qin-ui/dist/types/style.js"],"names":["__extends","this","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__importDefault","mod","__esModule","default","defineProperty","exports","value","style_1","__webpack_require__","react_1","style_2","HStack","_super","apply","arguments","render","createElement","className","hstack","style","alignItems","props","verticalAlignment","children","defaultProps","FlexAlignment","Leading","Component","VStack","space_1","Space","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_generic_1$BaseAPI","config","call","key","resource","password","requestAPI","JSON","stringify","method","path","slice","BaseAPI","axios_1","endpoint","url","body","extra","length","undefined","dest","bodyContent","URLSearchParams","entries","parse","request","assign","data","headers","Content-Type","withCredentials","then","response","status","Error","statusText","Promise","resolve","typestyle_1","display","flexDirection","fileBrowserSegment","border","padding","fileItem","cursor","hide","infoStack","nowrap","whiteSpace","padded","flexGrow","pathSpan","color","selector","marginRight","uploader","height","left","opacity","position","top","width","nexus_client","FileBrowser","state","fileList","loading","prefix","selectedIndex","uploadEnabled","uploadProgress","uploadStatus","space","Nexus","onUploaderPreprocess","file","next","_this","setState","onUploaderProgress","progress","onUploaderFinish","refresh","setTimeout","onNewFolderButtonClick","name","window","prompt","createFolder","getPathString","v","onDeleteButtonClick","suffix","type","deleteFileOrFolder","onLeadingIconClick","index","onPathChange","pathStack","listBucket","nextProps","obj","join","pathString","_this2","getFileList","catch","reason","history","push","match","params","split","filter","_this3","react_default","a","Segment","Dimmer","active","inverted","Loader","Progress","percent","attached","success","warning","error","Table","celled","striped","Header","Row","HeaderCell","colSpan","HStack_default","Center","onClick","navigate","Icon","map","i","arr","concat","Button","size","document","querySelector","click","react_s3_uploader_default","id","signingUrl","signingUrlMethod","accept","signingUrlWithCredentials","signingUrlQueryParams","contentDisposition","scrubFilename","filename","encodeURI","server","autoUpload","preprocess","onProgress","onFinish","Body","element","iconClass","href","Cell","collapsing","open","textAlign","lastModified","React","withRouter","NavigationBar","activeItem","handleItemClick","e","Container","Menu","secondary","Item","BrowserView","NavigationBar_NavigationBar","components_FileBrowser","LoginView","inputRef","event","target","keyCode","onConfirm","auth","alert","backgroundColor","justifyContent","Input","fluid","placeholder","onKeyDown","onInputKeyDown","onChange","onInputChange","marginTop","NotFoundView","fontSize","marginLeft","IndexView","ua","navigator","userAgent","toLowerCase","indexOf","react_router_dom","react_router","exact","component","Boolean","location","hostname","ReactDOM","RouteView_IndexView","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"0FAEA,IAAAA,EAAAC,WAAAD,WAAA,WACA,IAAAE,EAAA,SAAAC,EAAAC,GAWA,OAVAF,EAAAG,OAAAC,gBAAA,CACAC,UAAA,cACKC,OAAA,SAAAL,EAAAC,GACLD,EAAAI,UAAAH,IACK,SAAAD,EAAAC,GACL,QAAAK,KAAAL,EACAA,EAAAM,eAAAD,KAAAN,EAAAM,GAAAL,EAAAK,MAIAN,EAAAC,IAGA,gBAAAD,EAAAC,GAGA,SAAAO,IACAV,KAAAW,YAAAT,EAHAD,EAAAC,EAAAC,GAMAD,EAAAU,UAAA,OAAAT,EAAAC,OAAAS,OAAAV,IAAAO,EAAAE,UAAAT,EAAAS,UAAA,IAAAF,IAtBA,GA0BAI,EAAAd,WAAAc,iBAAA,SAAAC,GACA,OAAAA,KAAAC,WAAAD,EAAA,CACAE,QAAAF,IAIAX,OAAAc,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAC,EAAcC,EAAQ,IAEtBC,EAAAT,EAA8BQ,EAAQ,MAEtCE,EAAAV,EAA8BQ,EAAQ,MAEtCG,EAEA,SAAAC,GAGA,SAAAD,IACA,cAAAC,KAAAC,MAAA3B,KAAA4B,YAAA5B,KAeA,OAlBAD,EAAA0B,EAAAC,GAMAD,EAAAb,UAAAiB,OAAA,WACA,OAAAN,EAAAN,QAAAa,cAAA,OACAC,UAAAP,EAAAP,QAAAe,OACAC,MAAA,CACAC,WAAAlC,KAAAmC,MAAAC,oBAEKpC,KAAAmC,MAAAE,WAGLZ,EAAAa,aAAA,CACAF,kBAAAf,EAAAkB,cAAAC,SAEAf,EAnBA,CAoBCF,EAAAN,QAAAwB,WAEDtB,EAAAF,QAAAQ,oCClEA,IAAA1B,EAAAC,WAAAD,WAAA,WACA,IAAAE,EAAA,SAAAC,EAAAC,GAWA,OAVAF,EAAAG,OAAAC,gBAAA,CACAC,UAAA,cACKC,OAAA,SAAAL,EAAAC,GACLD,EAAAI,UAAAH,IACK,SAAAD,EAAAC,GACL,QAAAK,KAAAL,EACAA,EAAAM,eAAAD,KAAAN,EAAAM,GAAAL,EAAAK,MAIAN,EAAAC,IAGA,gBAAAD,EAAAC,GAGA,SAAAO,IACAV,KAAAW,YAAAT,EAHAD,EAAAC,EAAAC,GAMAD,EAAAU,UAAA,OAAAT,EAAAC,OAAAS,OAAAV,IAAAO,EAAAE,UAAAT,EAAAS,UAAA,IAAAF,IAtBA,GA0BAI,EAAAd,WAAAc,iBAAA,SAAAC,GACA,OAAAA,KAAAC,WAAAD,EAAA,CACAE,QAAAF,IAIAX,OAAAc,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAG,EAAAT,EAA8BQ,EAAQ,MAEtCD,EAAAP,EAA8BQ,EAAQ,MAEtCoB,EAEA,SAAAhB,GAGA,SAAAgB,IACA,cAAAhB,KAAAC,MAAA3B,KAAA4B,YAAA5B,KASA,OAZAD,EAAA2C,EAAAhB,GAMAgB,EAAA9B,UAAAiB,OAAA,WACA,OAAAN,EAAAN,QAAAa,cAAA,OACAC,UAAAV,EAAAJ,QAAAe,QACKhC,KAAAmC,MAAAE,WAGLK,EAbA,CAcCnB,EAAAN,QAAAwB,WAEDtB,EAAAF,QAAAyB,oCC1DAtC,OAAAc,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAuB,EAAcrB,EAAQ,KAEtBH,EAAAyB,MAAAD,EAAAC,8ECNA,IAAAC,EAAsBvB,EAAQ,KAE9BwB,EAAmBxB,EAAQ,KAE3ByB,EAAiCzB,EAAQ,KAEzC0B,EAAsB1B,EAAQ,KAE9B2B,EAAgB3B,EAAQ,KAExBlB,OAAAc,eAAAC,EAAA,cACAC,OAAA,IAGA,IAEAwB,EAEA,SAAAM,GAGA,SAAAN,EAAAO,GAGA,OAFAN,EAAA7C,KAAA4C,GAEAG,EAAA/C,KAAAgD,EAAAJ,GAAAQ,KAAApD,KAAAmD,IAyCA,OA9CAF,EAAAL,EAAAM,GAQAJ,EAAAF,EAAA,EACAS,IAAA,OACAjC,MAAA,SAAAkC,EAAAC,GACA,OAAAvD,KAAAwD,WAAA,cAAAC,KAAAC,UAAA,CACAJ,WACAC,aACO,CACPI,OAAA,WAGG,CACHN,IAAA,cACAjC,MAAA,SAAAwC,GACA,OAAA5D,KAAAwD,WAAA,cAAAC,KAAAC,UAAA,CACAE,YAGG,CACHP,IAAA,eACAjC,MAAA,SAAAwC,GACA,IAAApD,EAAA,MAAAoD,EAAAC,OAAA,GAAAD,IAAA,IACA,OAAA5D,KAAAwD,WAAA,cAAAC,KAAAC,UAAA,CACAE,KAAApD,IACO,CACPmD,OAAA,WAGG,CACHN,IAAA,qBACAjC,MAAA,SAAAwC,GACA,OAAA5D,KAAAwD,WAAA,cAAAC,KAAAC,UAAA,CACAE,SACO,CACPD,OAAA,eAKAf,EA/CA,CAJgBtB,EAAQ,KAoDvBwC,SAED3C,EAAAyB,0CCpEA,IAAAC,EAAsBvB,EAAQ,KAE9BwB,EAAmBxB,EAAQ,KAE3BR,EAAAd,WAAAc,iBAAA,SAAAC,GACA,OAAAA,KAAAC,WAAAD,EAAA,CACAE,QAAAF,IAIAX,OAAAc,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAA2C,EAAAjD,EAA8BQ,EAAQ,MAEtCwC,EAEA,WACA,SAAAA,EAAAX,GACAN,EAAA7C,KAAA8D,GAEA9D,KAAAgE,SAAA,GACAhE,KAAAgE,SAAAb,EAAAa,SAiCA,OA9BAlB,EAAAgB,EAAA,EACAT,IAAA,aACAjC,MAAA,SAAA6C,EAAAC,GACA,IAAAC,EAAAvC,UAAAwC,OAAA,QAAAC,IAAAzC,UAAA,GAAAA,UAAA,MACA0C,EAAAtE,KAAAgE,SAAAC,EACAM,EAAA,KAQA,OANAJ,EAAAR,QAAA,QAAAQ,EAAAR,OAGAY,EAAAL,EAFAI,IAAA,QAAAE,gBAAApE,OAAAqE,QAAAhB,KAAAiB,MAAAR,KAKAH,EAAA9C,QAAA0D,QAAAvE,OAAAwE,OAAA,CACAC,KAAAN,EACAO,QAAA,CACAC,eAAA,oBAEAd,IAAAK,EACAU,iBAAA,GACOb,IAAAc,KAAA,SAAAC,GACP,GAAAA,EAAAC,QAAA,IACA,UAAAC,MAAAF,EAAAG,YAGA,OAAAC,QAAAC,QAAAL,EAAAL,YAKAf,EAtCA,GAyCA3C,EAAA2C,4CC3DA1D,OAAAc,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAoE,EAAkBlE,EAAQ,KAE1BH,EAAAF,QAAA,CACAe,OAAAwD,EAAAvD,MAAA,CACAwD,QAAA,4CCRArF,OAAAc,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAoE,EAAkBlE,EAAQ,KAE1BH,EAAAF,QAAA,CACAe,OAAAwD,EAAAvD,MAAA,CACAwD,QAAA,OACAC,cAAA,uLCTezD,EAAA,CACX0D,mBAAoB1D,YAAM,CACtB2D,OAAQ,kBACRC,QAAS,iBAEbC,SAAU7D,YAAM,CACZ8D,OAAQ,YAEZC,KAAM/D,YAAM,CACRwD,QAAS,oBAEbQ,UAAWhE,YAAM,CACbC,WAAY,WAEhBgE,OAAQjE,YAAM,CACVkE,WAAY,WAEhBC,OAAQnE,YAAM,CACV4D,QAAS,WAEbjC,KAAM3B,YAAM,CACRoE,SAAU,IAEdC,SAAUrE,YAAM,CACZsE,MAAO,UACPR,OAAQ,YAEZS,SAAUvE,YAAM,CACZ8D,OAAQ,UACRU,YAAa,iBAEjBC,SAAUzE,YAAM,CACZ0E,OAAQ,MACRC,KAAM,EACNC,QAAS,EACTC,SAAU,WACVC,IAAK,EACLC,MAAO,uECrCAC,EAAA,CACXrE,aAAA,4DCaEoB,EACF,yBAsBEkD,6MACGC,MAA2B,CAChCC,SAAU,GACVC,SAAS,EACTC,OAAQ,GACRC,eAAgB,EAChBC,eAAe,EACfC,eAAgB,EAChBC,aAAc,MAIRC,MAAQ,IAAIC,EAAMhF,MAAM,CAAEoB,eA2C3B6D,qBAAuB,SAC5BC,EACAC,GACAC,EAAKC,SAAS,CACZT,eAAe,EACfC,eAAgB,EAChBC,aAAc,KAEhBK,EAAKD,MAGAI,mBAAqB,SAACC,GAC3BH,EAAKC,SAAS,CAAER,eAAgBU,OAG3BC,iBAAmB,WACxBJ,EAAKC,SAAS,CAAEP,aAAc,YAC9BM,EAAKK,UAELC,WAAW,WACTN,EAAKC,SAAS,CAAET,eAAe,KAC9B,QAGEe,uBAAyB,WAC9B,IAAMC,EAAOC,OAAOC,OAAO,eACtBF,GACLR,EAAKL,MAAMgB,aAAaX,EAAKY,gBAAkBJ,GAC5CvD,KAAK,SAAC4D,GACLb,EAAKK,eAIJS,oBAAsB,WAC3B,KAAId,EAAKb,MAAMI,cAAgB,GAA/B,CACA,IAAMlE,EAAM2E,EAAKb,MAAMC,SAASY,EAAKb,MAAMI,eACrCwB,EAAsB,WAAb1F,EAAI2F,KAAoB,IAAM,GAC7ChB,EAAKL,MAAMsB,mBAAmBjB,EAAKY,gBAAkBvF,EAAImF,KAAOO,GAC7D9D,KAAK,SAAC4D,GAAQb,EAAKK,gBAGjBa,mBAAqB,SAACC,GACvBnB,EAAKb,MAAMI,gBAAkB4B,EAC/BnB,EAAKC,SAAS,CAAEV,eAAgB,IAEhCS,EAAKC,SAAS,CAAEV,cAAe4B,8EArFjCnJ,KAAKmC,MAAMiH,aAAapJ,KAAKmC,MAAMkH,WACnCrJ,KAAKiI,SAAS,CAAEV,eAAgB,gDAIhCvH,KAAKsJ,WAAWtJ,KAAK4I,mEAGUW,GAC/BvJ,KAAKsJ,WAAWtJ,KAAK4I,cAAcW,EAAUF,oDAGE,IAA5BG,EAA4B5H,UAAAwC,OAAA,QAAAC,IAAAzC,UAAA,GAAAA,UAAA,GAAtB5B,KAAKmC,MAAMkH,UAC9BN,EAASS,EAAIpF,OAAS,EAAI,IAAM,GAEtC,OADcoF,EAAIC,KAAK,KACRV,qCAGCW,GAAoB,IAAAC,EAAA3J,KACpCA,KAAKiI,SAAS,CAAEZ,SAAS,IAEzBrH,KAAK2H,MAAMiC,YAAYF,GACpBzE,KAAK,SAAC4D,GACLc,EAAK1B,SAAS,CACZb,SAAUyB,EAAEhE,KACZwC,SAAS,EACTC,OAAQuB,EAAEvB,WAEXuC,MAAM,SAACC,GACRH,EAAKxH,MAAM4H,QAAQC,KAAK,UAAYL,EAAKxH,MAAM8H,MAAMC,OAAO5G,6CAIlDoG,GACd1J,KAAKmC,MAAMiH,aAAaM,EACrBS,MAAM,KACNC,OAAO,SAACvB,GAAD,QAASA,sCAqDL,IAAAwB,EAAArK,KACd,OACEsK,EAAAC,EAAAzI,cAAC0I,EAAA,EAAD,CAASzI,UAAWE,EAAM0D,oBAEtB3F,KAAKmH,MAAME,SACXiD,EAAAC,EAAAzI,cAAC2I,EAAA,EAAD,CAAQC,QAAM,EAACC,UAAQ,GACrBL,EAAAC,EAAAzI,cAAC8I,EAAA,EAAD,OAIJN,EAAAC,EAAAzI,cAAC+I,EAAA,EAAD,CACEtE,MAAM,QACNxE,UAAW/B,KAAKmH,MAAMK,cAAgB,GAAKvF,EAAM+D,KACjD8E,QAAS9K,KAAKmH,MAAMM,eACpBsD,SAAS,MACTC,QAAqC,YAA5BhL,KAAKmH,MAAMO,aACpBuD,QAAqC,YAA5BjL,KAAKmH,MAAMO,aACpBwD,MAAmC,UAA5BlL,KAAKmH,MAAMO,eAGpB4C,EAAAC,EAAAzI,cAACqJ,EAAA,EAAD,CAAOC,QAAM,EAACC,SAAO,GACnBf,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMG,OAAP,KACEhB,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMI,IAAP,KACEjB,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMK,WAAP,CAAkBC,QAAQ,KACxBnB,EAAAC,EAAAzI,cAAC4J,EAAAnB,EAAD,CAAQnI,kBAAmBG,gBAAcoJ,QACvCrB,EAAAC,EAAAzI,cAAA,QAAMC,UAAWE,EAAMqE,SACrBsF,QAAS,WACPvB,EAAKwB,SAAS,MAEjBvB,EAAAC,EAAAzI,cAACgK,EAAA,EAAD,CAAMtD,KAAK,UAEZ8B,EAAAC,EAAAzI,cAAA,iBAEAwI,EAAAC,EAAAzI,cAAA,OAAKC,UAAWE,EAAM2B,MAElB5D,KAAKmC,MAAMkH,UACR0C,IAAI,SAAClD,EAAGmD,EAAGC,GAAP,OACH3B,EAAAC,EAAAzI,cAAA,QAAMuB,IAAG,GAAA6I,OAAK7B,EAAKzB,gBAAV,SAAAsD,OAAiCF,IACxC1B,EAAAC,EAAAzI,cAAA,QAAMC,UAAWE,EAAMqE,SACrBsF,QAAS,WACPvB,EAAKwB,SAASI,EAAIpI,MAAM,EAAGmI,EAAI,GAAGvC,KAAK,QAEzCZ,GACFyB,EAAAC,EAAAzI,cAAA,qBAMVwI,EAAAC,EAAAzI,cAAC4J,EAAAnB,EAAD,KACED,EAAAC,EAAAzI,cAACqK,EAAA,EAAD,CACE5F,MAAM,QACN6F,KAAK,OACLpD,KAAK,SACL4C,QAAS,WAASS,SAASC,cAAc,gBAAqCC,UAJhF,UAOAjC,EAAAC,EAAAzI,cAAC0K,EAAAjC,EAAD,CACEkC,GAAG,cACH1K,UAAWE,EAAMyE,SACjBgG,WAAW,cACXC,iBAAiB,MACjBC,OAAO,MACPC,2BAA2B,EAC3BC,sBAAuB,CAAExF,OAAQtH,KAAK4I,iBACtCmE,mBAAmB,OACnBC,cAAe,SAACC,GAAD,OAAmBC,UAAUD,IAC5CE,OAAQnJ,EACRoJ,YAAY,EACZC,WAAYrN,KAAK6H,qBACjByF,WAAYtN,KAAKkI,mBACjBqF,SAAUvN,KAAKoI,mBAGjBkC,EAAAC,EAAAzI,cAACqK,EAAA,EAAD,CAAQ5F,MAAM,OAAO6F,KAAK,OAAOR,QAAS5L,KAAKuI,wBAA/C,cACA+B,EAAAC,EAAAzI,cAACqK,EAAA,EAAD,CAAQ5F,MAAM,MAAM6F,KAAK,OAAOR,QAAS5L,KAAK8I,qBAA9C,cAMRwB,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMI,IAAP,KACEjB,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMK,WAAP,MAOAlB,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMK,WAAP,aAGAlB,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMK,WAAP,aAGAlB,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMK,WAAP,CAAkBzJ,UAAWE,EAAMiE,QAAnC,mBAOJoE,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMqC,KAAP,KAEIxN,KAAKmH,MAAMC,SAAS2E,IAAI,SAAClD,EAAGmD,GAC1B,IAAIyB,EAWAC,EAOJ,OAhBED,EADa,SAAX5E,EAAEG,KAEFsB,EAAAC,EAAAzI,cAAA,KAAG6L,KACD,wBAA0BtD,EAAKlD,MAAMG,OAAS+C,EAAKzB,gBAAkBC,EAAEL,MACvEK,EAAEL,MAGK8B,EAAAC,EAAAzI,cAAA,YAAO+G,EAAEL,MAKpBkF,EADE1B,IAAM3B,EAAKlD,MAAMI,cACP,uBAEA,iBAIZ+C,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMI,IAAP,CAAWlI,IAAG,GAAA6I,OAAK7B,EAAKzB,gBAAV,KAAAsD,OAA6BF,IACzC1B,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMyC,KAAP,CAAYC,YAAU,GACpBvD,EAAAC,EAAAzI,cAACgK,EAAA,EAAD,CACE/J,UAAWE,EAAMuE,SACjBgC,KAAMkF,EACN9B,QAAS,kBAAMvB,EAAKnB,mBAAmB8C,OAG3C1B,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMyC,KAAP,KACEtD,EAAAC,EAAAzI,cAAA,QAAMC,UAAWE,EAAM6D,SAAU8F,QAAS,WACxC,GAAe,SAAX/C,EAAEG,KAAiB,CACrB,IAAMpF,EAAOsJ,UAAU7C,EAAKzB,gBAAkBC,EAAEL,MAChDC,OAAOqF,KAAP,GAAA5B,OAAelI,EAAf,sBAAAkI,OAA4CtI,SAE5CyG,EAAKwB,SAASxB,EAAKzB,gBAAkBC,EAAEL,KAAO,KAC9C6B,EAAKpC,SAAS,CAAEV,eAAgB,MAGlC+C,EAAAC,EAAAzI,cAACgK,EAAA,EAAD,CAAMtD,KAAMK,EAAEG,OAA0ByE,IAG5CnD,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMyC,KAAP,CAAYC,YAAU,GACpBvD,EAAAC,EAAAzI,cAAA,OAAKC,UAAWE,EAAMmE,QAASyC,EAAEuD,MAAQ,MAE3C9B,EAAAC,EAAAzI,cAACqJ,EAAA,EAAMyC,KAAP,CAAYC,YAAU,EAACE,UAAU,UAC/BzD,EAAAC,EAAAzI,cAAA,OAAKC,UAAWE,EAAMmE,QAASyC,EAAEmF,cAAgB,mBA7P7CC,IAAMxL,WA0QjByL,cAAWhH,YCxSLiH,qNACZhH,MAA8B,CACnCiH,WAAY,UAGPC,gBAAkB,SACvBC,EACAzJ,GAFuB,OAGpBmD,EAAKC,SAAS,CAAEmG,WAAYvJ,EAAK2D,MAAQ,8EAE9B,IACN4F,EAAepO,KAAKmH,MAApBiH,WAER,OACE9D,EAAAC,EAAAzI,cAACyM,EAAA,EAAD,CAAWxM,UAAW,4BACpBuI,EAAAC,EAAAzI,cAAC0M,EAAA,EAAD,CAAMC,WAAS,GACbnE,EAAAC,EAAAzI,cAAA,OAAKC,UAAW,cAAhB,iBACAuI,EAAAC,EAAAzI,cAAC0M,EAAA,EAAKA,KAAN,CAAW1H,SAAS,SAClBwD,EAAAC,EAAAzI,cAAC0M,EAAA,EAAKE,KAAN,CACElG,KAAK,SACLkC,OAAuB,WAAf0D,EACRxC,QAAS5L,KAAKqO,4BArBeJ,IAAMxL,YCE5BkM,6MACZxH,MAA4B,CACjCkC,UAAW,MAGND,aAAe,SAACC,GAA0BrB,EAAKC,SAAS,CAAEoB,uFAG/D,OACEiB,EAAAC,EAAAzI,cAAA,WACEwI,EAAAC,EAAAzI,cAAC8M,EAAD,MACAtE,EAAAC,EAAAzI,cAACyM,EAAA,EAAD,KACEjE,EAAAC,EAAAzI,cAAC+M,EAAD,CAAaxF,UAAWrJ,KAAKmH,MAAMkC,UACjCD,aAAcpJ,KAAKoJ,wBAbU6E,IAAMxL,oBCNzCuB,EACF,yBAeE8K,6MACG3H,MAAgB,CACrB4H,SAAU,KACV1H,SAAS,EACT9D,SAAU,MAGJoE,MAAQ,IAAIC,EAAMhF,MAAM,CAAEoB,0FAEbgL,GACnBhP,KAAKiI,SAAS,CACZ8G,SAAWC,EAAMC,OACjB1L,SAAUyL,EAAMC,OAAO7N,+CAIL4N,GACE,KAAlBA,EAAME,SACRlP,KAAKmP,gDAIU,IAAAxF,EAAA3J,KACXsD,EAAWtD,KAAKmC,MAAM8H,MAAMC,OAAO5G,SACzCtD,KAAKiI,SAAS,CAAEZ,SAAS,IACzBrH,KAAK2H,MAAMyH,KAAK9L,EAAUtD,KAAKmH,MAAM5D,UAClC0B,KAAK,SAAC7D,GACLuI,EAAKxH,MAAM4H,QAAQC,KAAnB,UAAAkC,OAAkC5I,MAEnCuG,MAAM,SAACC,GACNH,EAAK1B,SAAS,CAAEZ,SAAS,IACzBsC,EAAKxC,MAAM4H,SAAU3N,MAAQ,GAC7BiO,MAAM,+DAKI,IAAAhF,EAAArK,KACd,OACEsK,EAAAC,EAAAzI,cAAA,OAAKG,MAAO,CACVC,WAAY,SACZoN,gBAAiB,UACjB7J,QAAS,OACTkB,OAAQ,QACR4I,eAAgB,SAChBvI,MAAO,UAEPsD,EAAAC,EAAAzI,cAAA,OAAKG,MAAO,CACV+E,MAAO,QAEPsD,EAAAC,EAAAzI,cAAC0I,EAAA,EAAD,CAASjE,MAAM,QAEXvG,KAAKmH,MAAME,SACXiD,EAAAC,EAAAzI,cAAC2I,EAAA,EAAD,CAAQC,QAAM,EAACC,UAAQ,GACrBL,EAAAC,EAAAzI,cAAC8I,EAAA,EAAD,OAIJN,EAAAC,EAAAzI,cAAA,wBAAgB9B,KAAKmC,MAAM8H,MAAMC,OAAO5G,UACxCgH,EAAAC,EAAAzI,cAAC0N,EAAA,EAAD,CACEC,OAAK,EACLzG,KAAK,WACL0G,YAAY,WACZC,UAAW,SAACrB,GAAajE,EAAKuF,eAAetB,IAC7CuB,SAAU,SAACvB,GAAQjE,EAAKyF,cAAcxB,MAExChE,EAAAC,EAAAzI,cAAA,OAAKG,MAAO,CACVwD,QAAS,OACT8J,eAAgB,WAChBQ,UAAW,KAEXzF,EAAAC,EAAAzI,cAACqK,EAAA,EAAD,CAAQP,QAAS,WAAQvB,EAAK8E,cAA9B,oBAvEUlB,IAAMxL,WAgFfyL,cAAWY,GClGLkB,mLAEjB,OACE1F,EAAAC,EAAAzI,cAAA,OAAKG,MAAO,CACVC,WAAY,SACZuD,QAAS,OACTkB,OAAQ,QACR4I,eAAgB,WAEhBjF,EAAAC,EAAAzI,cAAA,OAAKG,MAAO,CACVwD,QAAS,OACTwK,SAAU,KAEV3F,EAAAC,EAAAzI,cAACgK,EAAA,EAAD,CAAMtD,KAAK,QACX8B,EAAAC,EAAAzI,cAAA,QAAMG,MAAO,CACXiO,WAAY,KADd,0BAdgCjC,IAAMxL,WCI3B0N,mLAEb,IAAMC,EAAKC,UAAUC,UAAUC,cAC/B,OAA8B,IAA1BH,EAAGI,QAAQ,YACmB,IAA1BJ,EAAGI,QAAQ,WACXnB,MAAM,0HACE/E,EAAAC,EAAAzI,cAAA,sEAA0BwI,EAAAC,EAAAzI,cAAA,WAA1B,+DAKZwI,EAAAC,EAAAzI,cAAC2O,EAAA,EAAD,KACInG,EAAAC,EAAAzI,cAAC4O,EAAA,EAAD,KACIpG,EAAAC,EAAAzI,cAAC4O,EAAA,EAAD,CAAO9M,KAAK,mBAAmB+M,OAAK,EAACC,UAAWjC,IAChDrE,EAAAC,EAAAzI,cAAC4O,EAAA,EAAD,CAAO9M,KAAK,mBAAmB+M,OAAK,EAACC,UAAW9B,IAChDxE,EAAAC,EAAAzI,cAAC4O,EAAA,EAAD,CAAOE,UAAWZ,aAfC/B,IAAMxL,WCKzBoO,QACW,cAA7BpI,OAAOqI,SAASC,UAEe,UAA7BtI,OAAOqI,SAASC,UAEhBtI,OAAOqI,SAASC,SAAS9G,MACvB,kECTN+G,IAASnP,OAAOyI,EAAAC,EAAAzI,cAACmP,EAAD,MAAe5E,SAAS6E,eAAe,SDgIjD,kBAAmBb,WACrBA,UAAUc,cAAcC,MAAMnM,KAAK,SAAAoM,GACjCA,EAAaC,gDEzInBlR,OAAAc,eAAAC,EAAA,cACAC,OAAA,IAIA,SAAAmB,GACAA,EAAA,gBACAA,EAAA,qBACAA,EAAA,oBAHA,CAICpB,EAAAoB,gBAAApB,EAAAoB,cAAA","file":"static/js/main.68506c73.chunk.js","sourcesContent":["\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar style_1 = require(\"../../types/style\");\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar style_2 = __importDefault(require(\"./style\"));\n\nvar HStack =\n/** @class */\nfunction (_super) {\n  __extends(HStack, _super);\n\n  function HStack() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  HStack.prototype.render = function () {\n    return react_1.default.createElement(\"div\", {\n      className: style_2.default.hstack,\n      style: {\n        alignItems: this.props.verticalAlignment\n      }\n    }, this.props.children);\n  };\n\n  HStack.defaultProps = {\n    verticalAlignment: style_1.FlexAlignment.Leading\n  };\n  return HStack;\n}(react_1.default.Component);\n\nexports.default = HStack;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar style_1 = __importDefault(require(\"./style\"));\n\nvar VStack =\n/** @class */\nfunction (_super) {\n  __extends(VStack, _super);\n\n  function VStack() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  VStack.prototype.render = function () {\n    return react_1.default.createElement(\"div\", {\n      className: style_1.default.hstack\n    }, this.props.children);\n  };\n\n  return VStack;\n}(react_1.default.Component);\n\nexports.default = VStack;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar space_1 = require(\"./routes/space\");\n\nexports.Space = space_1.Space;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/yiqinzhao/Desktop/coden/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/yiqinzhao/Desktop/coden/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/Users/yiqinzhao/Desktop/coden/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/yiqinzhao/Desktop/coden/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/yiqinzhao/Desktop/coden/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar generic_1 = require(\"../../client/types/generic\");\n\nvar Space =\n/*#__PURE__*/\nfunction (_generic_1$BaseAPI) {\n  _inherits(Space, _generic_1$BaseAPI);\n\n  function Space(config) {\n    _classCallCheck(this, Space);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Space).call(this, config));\n  }\n\n  _createClass(Space, [{\n    key: \"auth\",\n    value: function auth(resource, password) {\n      return this.requestAPI(\"/space/auth\", JSON.stringify({\n        resource: resource,\n        password: password\n      }), {\n        method: \"POST\"\n      });\n    }\n  }, {\n    key: \"getFileList\",\n    value: function getFileList(path) {\n      return this.requestAPI(\"/space/list\", JSON.stringify({\n        path: path\n      }));\n    }\n  }, {\n    key: \"createFolder\",\n    value: function createFolder(path) {\n      var p = path.slice(-1) === \"/\" ? path : path + \"/\";\n      return this.requestAPI(\"/space/list\", JSON.stringify({\n        path: p\n      }), {\n        method: \"POST\"\n      });\n    }\n  }, {\n    key: \"deleteFileOrFolder\",\n    value: function deleteFileOrFolder(path) {\n      return this.requestAPI(\"/space/list\", JSON.stringify({\n        path: path\n      }), {\n        method: \"DELETE\"\n      });\n    }\n  }]);\n\n  return Space;\n}(generic_1.BaseAPI);\n\nexports.Space = Space;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/yiqinzhao/Desktop/coden/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/yiqinzhao/Desktop/coden/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar axios_1 = __importDefault(require(\"axios\"));\n\nvar BaseAPI =\n/*#__PURE__*/\nfunction () {\n  function BaseAPI(config) {\n    _classCallCheck(this, BaseAPI);\n\n    this.endpoint = \"\";\n    this.endpoint = config.endpoint;\n  }\n\n  _createClass(BaseAPI, [{\n    key: \"requestAPI\",\n    value: function requestAPI(url, body) {\n      var extra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var dest = this.endpoint + url;\n      var bodyContent = null;\n\n      if (!extra.method || extra.method === \"GET\") {\n        dest = dest + \"?\" + new URLSearchParams(Object.entries(JSON.parse(body)));\n      } else {\n        bodyContent = body;\n      }\n\n      return axios_1.default.request(Object.assign({\n        data: bodyContent,\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        url: dest,\n        withCredentials: true\n      }, extra)).then(function (response) {\n        if (response.status >= 400) {\n          throw new Error(response.statusText);\n        }\n\n        return Promise.resolve(response.data);\n      });\n    }\n  }]);\n\n  return BaseAPI;\n}();\n\nexports.BaseAPI = BaseAPI;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar typestyle_1 = require(\"typestyle\");\n\nexports.default = {\n  hstack: typestyle_1.style({\n    display: 'flex'\n  })\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar typestyle_1 = require(\"typestyle\");\n\nexports.default = {\n  hstack: typestyle_1.style({\n    display: 'flex',\n    flexDirection: 'row'\n  })\n};","import { style } from \"typestyle\"\n\nexport default {\n    fileBrowserSegment: style({\n        border: \"none !important\",\n        padding: \"0 !important\"\n    }),\n    fileItem: style({\n        cursor: \"pointer\"\n    }),\n    hide: style({\n        display: \"none !important\"\n    }),\n    infoStack: style({\n        alignItems: \"center\"\n    }),\n    nowrap: style({\n        whiteSpace: \"nowrap\"\n    }),\n    padded: style({\n        padding: \"0 1rem\"\n    }),\n    path: style({\n        flexGrow: 1\n    }),\n    pathSpan: style({\n        color: \"#4183C4\",\n        cursor: \"pointer\"\n    }),\n    selector: style({\n        cursor: \"pointer\",\n        marginRight: \"0 !important\"\n    }),\n    uploader: style({\n        height: \"1px\",\n        left: 0,\n        opacity: 0,\n        position: \"absolute\",\n        top: 0,\n        width: \"1px\"\n    })\n}\n","import { Space } from \"./dist/client\"\n\nexport default {\n    Space\n}\n","import React from \"react\"\nimport { RouteComponentProps } from \"react-router\"\nimport { withRouter } from \"react-router-dom\"\nimport style from \"./style\"\n\nimport {\n  Button, Dimmer, Icon, Loader, Progress, Segment,\n  SemanticICONS, Table\n} from \"semantic-ui-react\"\n\nimport Nexus from \"nexus/client\"\nimport { IFileItem } from \"nexus/tariff\"\nimport { FlexAlignment, HStack } from \"qin-ui\"\n\nimport ReactS3Uploader from \"react-s3-uploader\"\n\nconst endpoint = process.env.NODE_ENV === \"production\"\n  ? \"https://nexus.coden.hk\"\n  : \"http://localhost:8080\"\n\ninterface IPathParams {\n  resource: string\n}\n\ntype IFileBrowserProps = RouteComponentProps<IPathParams> & {\n  pathStack: string[],\n  onPathChange(PathStack: string[]): void\n}\n\ninterface IFileBrowserState {\n  loading: boolean,\n  uploadEnabled: boolean\n  uploadProgress: number\n  uploadStatus: \"\" | \"success\" | \"warning\" | \"error\"\n  fileList: IFileItem[],\n  selectedIndex: number,\n  prefix: string\n}\n\nclass FileBrowser extends React.Component<IFileBrowserProps, IFileBrowserState> {\n  public state: IFileBrowserState = {\n    fileList: [],\n    loading: true,\n    prefix: \"\",\n    selectedIndex: -1,\n    uploadEnabled: false,\n    uploadProgress: 0,\n    uploadStatus: \"\"\n  }\n\n  // private space = new Nexus.Space({ endpoint: \"https://nexus.coden.hk\" })\n  private space = new Nexus.Space({ endpoint })\n\n  public refresh() {\n    this.props.onPathChange(this.props.pathStack)\n    this.setState({ selectedIndex: -1 })\n  }\n\n  public componentDidMount() {\n    this.listBucket(this.getPathString())\n  }\n\n  public componentWillReceiveProps(nextProps: IFileBrowserProps) {\n    this.listBucket(this.getPathString(nextProps.pathStack))\n  }\n\n  public getPathString(obj = this.props.pathStack) {\n    const suffix = obj.length > 0 ? \"/\" : \"\"\n    const merge = obj.join(\"/\")\n    return merge + suffix\n  }\n\n  public listBucket(pathString: string) {\n    this.setState({ loading: true })\n\n    this.space.getFileList(pathString)\n      .then((v) => {\n        this.setState({\n          fileList: v.data,\n          loading: false,\n          prefix: v.prefix\n        })\n      }).catch((reason: Error) => {\n        this.props.history.push(\"/login/\" + this.props.match.params.resource)\n      })\n  }\n\n  public navigate(pathString: string) {\n    this.props.onPathChange(pathString\n      .split(\"/\")\n      .filter((v) => !!v)\n    )\n  }\n\n  public onUploaderPreprocess = (\n    file: File,\n    next: (file: File) => void) => {\n    this.setState({\n      uploadEnabled: true,\n      uploadProgress: 0,\n      uploadStatus: \"\"\n    })\n    next(file)\n  }\n\n  public onUploaderProgress = (progress: number) => {\n    this.setState({ uploadProgress: progress })\n  }\n\n  public onUploaderFinish = () => {\n    this.setState({ uploadStatus: \"success\" })\n    this.refresh()\n\n    setTimeout(() => {\n      this.setState({ uploadEnabled: false })\n    }, 300)\n  }\n\n  public onNewFolderButtonClick = () => {\n    const name = window.prompt(\"Folder Name\")\n    if (!name) { return }\n    this.space.createFolder(this.getPathString() + name)\n      .then((v) => {\n        this.refresh()\n      })\n  }\n\n  public onDeleteButtonClick = () => {\n    if (this.state.selectedIndex < 0) { return }\n    const key = this.state.fileList[this.state.selectedIndex]\n    const suffix = key.type === \"folder\" ? \"/\" : \"\"\n    this.space.deleteFileOrFolder(this.getPathString() + key.name + suffix)\n      .then((v) => { this.refresh() })\n  }\n\n  public onLeadingIconClick = (index: number) => {\n    if (this.state.selectedIndex === index) {\n      this.setState({ selectedIndex: -1 })\n    } else {\n      this.setState({ selectedIndex: index })\n    }\n  }\n\n  public render() {\n    return (\n      <Segment className={style.fileBrowserSegment}>\n        {\n          this.state.loading &&\n          <Dimmer active inverted>\n            <Loader />\n          </Dimmer>\n        }\n\n        <Progress\n          color=\"green\"\n          className={this.state.uploadEnabled ? \"\" : style.hide}\n          percent={this.state.uploadProgress}\n          attached=\"top\"\n          success={this.state.uploadStatus === \"success\"}\n          warning={this.state.uploadStatus === \"warning\"}\n          error={this.state.uploadStatus === \"error\"}\n        />\n\n        <Table celled striped>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell colSpan=\"4\">\n                <HStack verticalAlignment={FlexAlignment.Center}>\n                  <span className={style.pathSpan}\n                    onClick={() => {\n                      this.navigate(\"\")\n                    }}\n                  ><Icon name=\"home\" /></span>\n\n                  <span>/</span>\n\n                  <div className={style.path}>\n                    {\n                      this.props.pathStack\n                        .map((v, i, arr) => (\n                          <span key={`${this.getPathString()}-nav-${i}`}>\n                            <span className={style.pathSpan}\n                              onClick={() => {\n                                this.navigate(arr.slice(0, i + 1).join(\"/\"))\n                              }}\n                            >{v}</span>\n                            <span>/</span>\n                          </span>\n                        ))\n                    }\n                  </div>\n\n                  <HStack>\n                    <Button\n                      color=\"green\"\n                      size=\"mini\"\n                      type=\"button\"\n                      onClick={() => { (document.querySelector(\"#s3-uploader\") as HTMLInputElement).click() }}\n                    >Upload</Button>\n\n                    <ReactS3Uploader\n                      id=\"s3-uploader\"\n                      className={style.uploader}\n                      signingUrl=\"/space/sign\"\n                      signingUrlMethod=\"GET\"\n                      accept=\"*/*\"\n                      signingUrlWithCredentials={true}\n                      signingUrlQueryParams={{ prefix: this.getPathString() }}\n                      contentDisposition=\"auto\"\n                      scrubFilename={(filename: any) => encodeURI(filename)}\n                      server={endpoint}\n                      autoUpload={true}\n                      preprocess={this.onUploaderPreprocess}\n                      onProgress={this.onUploaderProgress}\n                      onFinish={this.onUploaderFinish}\n                    />\n\n                    <Button color=\"blue\" size=\"mini\" onClick={this.onNewFolderButtonClick}>New Folder</Button>\n                    <Button color=\"red\" size=\"mini\" onClick={this.onDeleteButtonClick}>Delete</Button>\n                  </HStack>\n                </HStack>\n              </Table.HeaderCell>\n            </Table.Row>\n\n            <Table.Row>\n              <Table.HeaderCell>\n                {/* <Icon\n                  className={style.selector}\n                  name=\"minus square outline\"\n                  onClick={this.onMinusIconClick}\n                /> */}\n              </Table.HeaderCell>\n              <Table.HeaderCell>\n                Name\n              </Table.HeaderCell>\n              <Table.HeaderCell>\n                Size\n              </Table.HeaderCell>\n              <Table.HeaderCell className={style.nowrap}>\n                Last Modified\n              </Table.HeaderCell>\n            </Table.Row>\n\n          </Table.Header>\n\n          <Table.Body>\n            {\n              this.state.fileList.map((v, i) => {\n                let element\n                if (v.type === \"file\") {\n                  element = (\n                    <a href={\n                      \"https://cdn.coden.hk/\" + this.state.prefix + this.getPathString() + v.name}\n                    >{v.name}</a>\n                  )\n                } else {\n                  element = (<span>{v.name}</span>)\n                }\n\n                let iconClass: SemanticICONS\n                if (i === this.state.selectedIndex) {\n                  iconClass = \"check square outline\"\n                } else {\n                  iconClass = \"square outline\"\n                }\n\n                return (\n                  <Table.Row key={`${this.getPathString()}-${i}`}>\n                    <Table.Cell collapsing>\n                      <Icon\n                        className={style.selector}\n                        name={iconClass}\n                        onClick={() => this.onLeadingIconClick(i)} />\n                    </Table.Cell>\n\n                    <Table.Cell>\n                      <span className={style.fileItem} onClick={() => {\n                        if (v.type === \"file\") {\n                          const path = encodeURI(this.getPathString() + v.name)\n                          window.open(`${endpoint}/space/file/?path=${path}`)\n                        } else {\n                          this.navigate(this.getPathString() + v.name + \"/\")\n                          this.setState({ selectedIndex: -1 })\n                        }\n                      }}>\n                        <Icon name={v.type as SemanticICONS} />{element}\n                      </span>\n                    </Table.Cell>\n                    <Table.Cell collapsing>\n                      <div className={style.padded}>{v.size || \"-\"}</div>\n                    </Table.Cell>\n                    <Table.Cell collapsing textAlign=\"center\">\n                      <div className={style.padded}>{v.lastModified || \"-\"}</div>\n                    </Table.Cell>\n                  </Table.Row>\n                )\n              })\n            }\n          </Table.Body>\n        </Table>\n      </Segment>\n    )\n  }\n}\n\nexport default withRouter(FileBrowser)\n","import React from \"react\"\nimport { Container, Menu, MenuItemProps } from \"semantic-ui-react\"\n\nimport \"./index.css\"\n\ninterface INavigationBarStates {\n  activeItem: string\n}\n\nexport default class NavigationBar extends React.Component<{}, INavigationBarStates> {\n  public state: INavigationBarStates = {\n    activeItem: \"home\"\n  }\n\n  public handleItemClick = (\n    e: React.MouseEvent<HTMLAnchorElement, MouseEvent>,\n    data: MenuItemProps\n  ) => this.setState({ activeItem: data.name || \"\" })\n\n  public render() {\n    const { activeItem } = this.state\n\n    return (\n      <Container className={\"navigation-bar-container\"}>\n        <Menu secondary>\n          <div className={\"main-title\"}>CODEN | SPACE</div>\n          <Menu.Menu position=\"right\">\n            <Menu.Item\n              name=\"logout\"\n              active={activeItem === \"logout\"}\n              onClick={this.handleItemClick}\n            />\n          </Menu.Menu>\n        </Menu>\n      </Container>\n    )\n  }\n}\n","import React from \"react\"\n\nimport { Container } from \"semantic-ui-react\"\n\nimport FileBrowser from \"../../components/FileBrowser\"\nimport NavigationBar from \"../../components/NavigationBar\"\n\ninterface IBrowserViewStates {\n  pathStack: string[]\n}\n\nexport default class BrowserView extends React.Component<{}, IBrowserViewStates> {\n  public state: IBrowserViewStates = {\n    pathStack: []\n  }\n\n  public onPathChange = (pathStack: string[]) => { this.setState({ pathStack }) }\n\n  public render() {\n    return (\n      <div>\n        <NavigationBar />\n        <Container>\n          <FileBrowser pathStack={this.state.pathStack}\n            onPathChange={this.onPathChange} />\n        </Container>\n      </div>\n    )\n  }\n}\n","import Nexus from \"nexus/client\"\nimport React from \"react\"\nimport { RouteComponentProps, withRouter } from \"react-router\"\nimport { Button, Dimmer, Input, Loader, Segment } from \"semantic-ui-react\"\n\nconst endpoint = process.env.NODE_ENV === \"production\"\n  ? \"https://nexus.coden.hk\"\n  : \"http://localhost:8080\"\n\ninterface IPathParams {\n  resource: string\n}\n\ninterface IState {\n  password: string,\n  loading: boolean,\n  inputRef: HTMLInputElement | null\n}\n\ntype IProps = RouteComponentProps<IPathParams>\n\nclass LoginView extends React.Component<IProps, IState> {\n  public state: IState = {\n    inputRef: null,\n    loading: false,\n    password: \"\"\n  }\n\n  private space = new Nexus.Space({ endpoint })\n\n  public onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      inputRef: (event.target as HTMLInputElement),\n      password: event.target.value\n    })\n  }\n\n  public onInputKeyDown(event: KeyboardEvent) {\n    if (event.keyCode === 13) {\n      this.onConfirm()\n    }\n  }\n\n  public onConfirm() {\n    const resource = this.props.match.params.resource\n    this.setState({ loading: true })\n    this.space.auth(resource, this.state.password)\n      .then((value) => {\n        this.props.history.push(`/files/${resource}`)\n      })\n      .catch((reason: Error) => {\n        this.setState({ loading: false })\n        this.state.inputRef!.value = \"\"\n        alert(\"密码错误\")\n        return\n      })\n  }\n\n  public render() {\n    return (\n      <div style={{\n        alignItems: \"center\",\n        backgroundColor: \"#eeeeee\",\n        display: \"flex\",\n        height: \"100vh\",\n        justifyContent: \"center\",\n        width: \"100vw\"\n      }}>\n        <div style={{\n          width: \"40%\"\n        }}>\n          <Segment color=\"grey\">\n            {\n              this.state.loading &&\n              <Dimmer active inverted>\n                <Loader />\n              </Dimmer>\n            }\n\n            <h3>Login into {this.props.match.params.resource}</h3>\n            <Input\n              fluid\n              type=\"password\"\n              placeholder=\"Password\"\n              onKeyDown={(e: any) => { this.onInputKeyDown(e) }}\n              onChange={(e) => { this.onInputChange(e) }}\n            />\n            <div style={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              marginTop: 10\n            }}>\n              <Button onClick={() => { this.onConfirm() }}>Login</Button>\n            </div>\n          </Segment>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(LoginView)\n","import React from \"react\"\nimport { Icon } from \"semantic-ui-react\"\n\nexport default class NotFoundView extends React.Component {\n  public render() {\n    return (\n      <div style={{\n        alignItems: \"center\",\n        display: \"flex\",\n        height: \"100vh\",\n        justifyContent: \"center\"\n      }}>\n        <div style={{\n          display: \"flex\",\n          fontSize: 40\n        }}>\n          <Icon name=\"ban\" />\n          <span style={{\n            marginLeft: 20\n          }}>404 Not Found</span>\n        </div>\n      </div >\n    )\n  }\n}\n","import React from \"react\"\nimport { HashRouter, Route, Switch } from \"react-router-dom\"\n\nimport BrowserView from \"../BrowserView\"\nimport LoginView from \"../LoginView\"\nimport NotFoundView from \"../NotFoundView\"\n\nexport default class IndexView extends React.Component {\n    public render() {\n        const ua = navigator.userAgent.toLowerCase()\n        if (ua.indexOf(\"safari\") !== -1) {\n            if (ua.indexOf(\"chrome\") === -1) {\n                alert(\"不支持 Safari，换个 Chrome 吧 \\nSafari is not supported currently, please switch to Chrome\")\n                return (<h1>不支持 Safari，换个 Chrome 吧<br/>Safari is not supported currently, please switch to Chrome</h1>)\n            }\n        }\n\n        return (\n            <HashRouter>\n                <Switch>\n                    <Route path=\"/files/:resource\" exact component={BrowserView} />\n                    <Route path=\"/login/:resource\" exact component={LoginView} />\n                    <Route component={NotFoundView} />\n                </Switch>\n            </HashRouter>\n        )\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport RouteView from \"./views/RouteView\"\n\nimport * as serviceWorker from \"./serviceWorker\"\n\nimport \"semantic-ui-css/semantic.min.css\"\n\nReactDOM.render(<RouteView />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar FlexAlignment;\n\n(function (FlexAlignment) {\n  FlexAlignment[\"Center\"] = \"center\";\n  FlexAlignment[\"Leading\"] = \"flex-start\";\n  FlexAlignment[\"Trailing\"] = \"flex-end\";\n})(FlexAlignment = exports.FlexAlignment || (exports.FlexAlignment = {}));"],"sourceRoot":""}