{"version":3,"sources":["../../qin-ui/dist/components/HStack/index.js","../../qin-ui/dist/components/VStack/index.js","../../nexus/dist/client/index.js","../../nexus/dist/client/routes/space.js","../../nexus/dist/client/types/generic.js","../../qin-ui/dist/components/HStack/style.js","../../qin-ui/dist/components/VStack/style.js","components/FileBrowser/style.ts","../../nexus/client.ts","components/FileBrowser/index.tsx","components/NavigationBar/index.tsx","views/BrowserView/index.tsx","views/LoginView/index.tsx","views/NotFoundView/index.tsx","views/RouteView/index.tsx","serviceWorker.ts","index.tsx","../../qin-ui/dist/types/style.js"],"names":["__extends","this","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__importDefault","mod","__esModule","default","defineProperty","exports","value","style_1","__webpack_require__","react_1","style_2","HStack","_super","apply","arguments","render","createElement","className","hstack","style","alignItems","props","verticalAlignment","children","defaultProps","FlexAlignment","Leading","Component","VStack","space_1","Space","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_generic_1$BaseAPI","config","call","key","resource","password","requestAPI","JSON","stringify","method","path","slice","BaseAPI","endpoint","url","body","extra","length","undefined","dest","bodyContent","URLSearchParams","entries","parse","fetch","assign","credentials","headers","Content-Type","then","response","ok","Error","statusText","json","typestyle_1","display","flexDirection","fileBrowserSegment","border","padding","fileItem","cursor","hide","infoStack","nowrap","whiteSpace","padded","flexGrow","pathSpan","color","selector","marginRight","uploader","height","left","opacity","position","top","width","nexus_client","FileBrowser","state","fileList","loading","prefix","selectedIndex","uploadEnabled","uploadProgress","uploadStatus","space","Nexus","onUploaderPreprocess","file","next","_this","setState","onUploaderProgress","progress","onUploaderFinish","refresh","setTimeout","onNewFolderButtonClick","name","window","prompt","createFolder","getPathString","v","onDeleteButtonClick","suffix","type","deleteFileOrFolder","onLeadingIconClick","index","onPathChange","pathStack","listBucket","nextProps","obj","join","pathString","_this2","getFileList","data","catch","reason","history","push","match","params","split","filter","_this3","react_default","a","Segment","Dimmer","active","inverted","Loader","Progress","percent","attached","success","warning","error","Table","celled","striped","Header","Row","HeaderCell","colSpan","HStack_default","Center","onClick","navigate","Icon","map","i","arr","concat","Button","size","document","querySelector","click","react_s3_uploader_default","id","signingUrl","signingUrlMethod","accept","signingUrlWithCredentials","signingUrlQueryParams","contentDisposition","scrubFilename","filename","encodeURI","server","autoUpload","preprocess","onProgress","onFinish","Body","element","iconClass","href","Cell","collapsing","open","textAlign","lastModified","React","withRouter","NavigationBar","activeItem","handleItemClick","e","Container","Menu","secondary","Item","BrowserView","NavigationBar_NavigationBar","components_FileBrowser","LoginView","inputRef","event","target","keyCode","onConfirm","auth","alert","backgroundColor","justifyContent","Input","fluid","placeholder","onKeyDown","onInputKeyDown","onChange","onInputChange","marginTop","NotFoundView","fontSize","marginLeft","IndexView","react_router_dom","react_router","exact","component","Boolean","location","hostname","ReactDOM","RouteView_IndexView","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6d4fe393.chunk.js","sourcesContent":["\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar style_1 = require(\"../../types/style\");\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar style_2 = __importDefault(require(\"./style\"));\n\nvar HStack =\n/** @class */\nfunction (_super) {\n  __extends(HStack, _super);\n\n  function HStack() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  HStack.prototype.render = function () {\n    return react_1.default.createElement(\"div\", {\n      className: style_2.default.hstack,\n      style: {\n        alignItems: this.props.verticalAlignment\n      }\n    }, this.props.children);\n  };\n\n  HStack.defaultProps = {\n    verticalAlignment: style_1.FlexAlignment.Leading\n  };\n  return HStack;\n}(react_1.default.Component);\n\nexports.default = HStack;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar style_1 = __importDefault(require(\"./style\"));\n\nvar VStack =\n/** @class */\nfunction (_super) {\n  __extends(VStack, _super);\n\n  function VStack() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  VStack.prototype.render = function () {\n    return react_1.default.createElement(\"div\", {\n      className: style_1.default.hstack\n    }, this.props.children);\n  };\n\n  return VStack;\n}(react_1.default.Component);\n\nexports.default = VStack;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar space_1 = require(\"./routes/space\");\n\nexports.Space = space_1.Space;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/yiqinzhao/Desktop/coden/coden/packages/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/yiqinzhao/Desktop/coden/coden/packages/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/Users/yiqinzhao/Desktop/coden/coden/packages/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/yiqinzhao/Desktop/coden/coden/packages/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/yiqinzhao/Desktop/coden/coden/packages/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar generic_1 = require(\"../../client/types/generic\");\n\nvar Space =\n/*#__PURE__*/\nfunction (_generic_1$BaseAPI) {\n  _inherits(Space, _generic_1$BaseAPI);\n\n  function Space(config) {\n    _classCallCheck(this, Space);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Space).call(this, config));\n  }\n\n  _createClass(Space, [{\n    key: \"auth\",\n    value: function auth(resource, password) {\n      return this.requestAPI(\"/space/auth\", JSON.stringify({\n        resource: resource,\n        password: password\n      }), {\n        method: \"POST\"\n      });\n    }\n  }, {\n    key: \"getFileList\",\n    value: function getFileList(path) {\n      return this.requestAPI(\"/space/list\", JSON.stringify({\n        path: path\n      }));\n    }\n  }, {\n    key: \"createFolder\",\n    value: function createFolder(path) {\n      var p = path.slice(-1) === \"/\" ? path : path + \"/\";\n      return this.requestAPI(\"/space/list\", JSON.stringify({\n        path: p\n      }), {\n        method: \"POST\"\n      });\n    }\n  }, {\n    key: \"deleteFileOrFolder\",\n    value: function deleteFileOrFolder(path) {\n      return this.requestAPI(\"/space/list\", JSON.stringify({\n        path: path\n      }), {\n        method: \"DELETE\"\n      });\n    }\n  }]);\n\n  return Space;\n}(generic_1.BaseAPI);\n\nexports.Space = Space;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/yiqinzhao/Desktop/coden/coden/packages/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/yiqinzhao/Desktop/coden/coden/packages/space/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BaseAPI =\n/*#__PURE__*/\nfunction () {\n  function BaseAPI(config) {\n    _classCallCheck(this, BaseAPI);\n\n    this.endpoint = \"\";\n    this.endpoint = config.endpoint;\n  }\n\n  _createClass(BaseAPI, [{\n    key: \"requestAPI\",\n    value: function requestAPI(url, body) {\n      var extra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var dest = this.endpoint + url;\n      var bodyContent = null;\n\n      if (!extra.method || extra.method === \"GET\") {\n        dest = dest + \"?\" + new URLSearchParams(Object.entries(JSON.parse(body)));\n      } else {\n        bodyContent = body;\n      }\n\n      return fetch(dest, Object.assign({\n        body: bodyContent,\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }, extra)).then(function (response) {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n\n        return response.json();\n      });\n    }\n  }]);\n\n  return BaseAPI;\n}();\n\nexports.BaseAPI = BaseAPI;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar typestyle_1 = require(\"typestyle\");\n\nexports.default = {\n  hstack: typestyle_1.style({\n    display: 'flex'\n  })\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar typestyle_1 = require(\"typestyle\");\n\nexports.default = {\n  hstack: typestyle_1.style({\n    display: 'flex',\n    flexDirection: 'row'\n  })\n};","import { style } from \"typestyle\"\n\nexport default {\n    fileBrowserSegment: style({\n        border: \"none !important\",\n        padding: \"0 !important\"\n    }),\n    fileItem: style({\n        cursor: \"pointer\"\n    }),\n    hide: style({\n        display: \"none !important\"\n    }),\n    infoStack: style({\n        alignItems: \"center\"\n    }),\n    nowrap: style({\n        whiteSpace: \"nowrap\"\n    }),\n    padded: style({\n        padding: \"0 1rem\"\n    }),\n    path: style({\n        flexGrow: 1\n    }),\n    pathSpan: style({\n        color: \"#4183C4\",\n        cursor: \"pointer\"\n    }),\n    selector: style({\n        cursor: \"pointer\",\n        marginRight: \"0 !important\"\n    }),\n    uploader: style({\n        height: \"1px\",\n        left: 0,\n        opacity: 0,\n        position: \"absolute\",\n        top: 0,\n        width: \"1px\"\n    })\n}\n","import { Space } from \"./dist/client\"\n\nexport default {\n    Space\n}\n","import React from \"react\"\nimport { RouteComponentProps } from \"react-router\"\nimport { withRouter } from \"react-router-dom\"\nimport style from \"./style\"\n\nimport {\n  Button, Dimmer, Icon, Loader, Progress, Segment,\n  SemanticICONS, Table\n} from \"semantic-ui-react\"\n\nimport Nexus from \"nexus/client\"\nimport { IFileItem } from \"nexus/tariff\"\nimport { FlexAlignment, HStack } from \"qin-ui\"\n\nimport ReactS3Uploader from \"react-s3-uploader\"\n\nconst endpoint = process.env.NODE_ENV === \"production\"\n  ? \"https://nexus.coden.hk\"\n  : \"http://localhost:8080\"\n\ninterface IPathParams {\n  resource: string\n}\n\ntype IFileBrowserProps = RouteComponentProps<IPathParams> & {\n  pathStack: string[],\n  onPathChange(PathStack: string[]): void\n}\n\ninterface IFileBrowserState {\n  loading: boolean,\n  uploadEnabled: boolean\n  uploadProgress: number\n  uploadStatus: \"\" | \"success\" | \"warning\" | \"error\"\n  fileList: IFileItem[],\n  selectedIndex: number,\n  prefix: string\n}\n\nclass FileBrowser extends React.Component<IFileBrowserProps, IFileBrowserState> {\n  public state: IFileBrowserState = {\n    fileList: [],\n    loading: true,\n    prefix: \"\",\n    selectedIndex: -1,\n    uploadEnabled: false,\n    uploadProgress: 0,\n    uploadStatus: \"\"\n  }\n\n  // private space = new Nexus.Space({ endpoint: \"https://nexus.coden.hk\" })\n  private space = new Nexus.Space({ endpoint })\n\n  public refresh() {\n    this.props.onPathChange(this.props.pathStack)\n    this.setState({ selectedIndex: -1 })\n  }\n\n  public componentDidMount() {\n    this.listBucket(this.getPathString())\n  }\n\n  public componentWillReceiveProps(nextProps: IFileBrowserProps) {\n    this.listBucket(this.getPathString(nextProps.pathStack))\n  }\n\n  public getPathString(obj = this.props.pathStack) {\n    const suffix = obj.length > 0 ? \"/\" : \"\"\n    const merge = obj.join(\"/\")\n    return merge + suffix\n  }\n\n  public listBucket(pathString: string) {\n    this.setState({ loading: true })\n\n    this.space.getFileList(pathString)\n      .then((v) => {\n        this.setState({\n          fileList: v.data,\n          loading: false,\n          prefix: v.prefix\n        })\n      }).catch((reason: Error) => {\n        this.props.history.push(\"/login/\" + this.props.match.params.resource)\n      })\n  }\n\n  public navigate(pathString: string) {\n    this.props.onPathChange(pathString\n      .split(\"/\")\n      .filter((v) => !!v)\n    )\n  }\n\n  public onUploaderPreprocess = (\n    file: File,\n    next: (file: File) => void) => {\n    this.setState({\n      uploadEnabled: true,\n      uploadProgress: 0,\n      uploadStatus: \"\"\n    })\n    next(file)\n  }\n\n  public onUploaderProgress = (progress: number) => {\n    this.setState({ uploadProgress: progress })\n  }\n\n  public onUploaderFinish = () => {\n    this.setState({ uploadStatus: \"success\" })\n    this.refresh()\n\n    setTimeout(() => {\n      this.setState({ uploadEnabled: false })\n    }, 300)\n  }\n\n  public onNewFolderButtonClick = () => {\n    const name = window.prompt(\"Folder Name\")\n    if (!name) { return }\n    this.space.createFolder(this.getPathString() + name)\n      .then((v) => {\n        this.refresh()\n      })\n  }\n\n  public onDeleteButtonClick = () => {\n    if (this.state.selectedIndex < 0) { return }\n    const key = this.state.fileList[this.state.selectedIndex]\n    const suffix = key.type === \"folder\" ? \"/\" : \"\"\n    this.space.deleteFileOrFolder(this.getPathString() + key.name + suffix)\n      .then((v) => { this.refresh() })\n  }\n\n  public onLeadingIconClick = (index: number) => {\n    if (this.state.selectedIndex === index) {\n      this.setState({ selectedIndex: -1 })\n    } else {\n      this.setState({ selectedIndex: index })\n    }\n  }\n\n  public render() {\n    return (\n      <Segment className={style.fileBrowserSegment}>\n        {\n          this.state.loading &&\n          <Dimmer active inverted>\n            <Loader />\n          </Dimmer>\n        }\n\n        <Progress\n          color=\"green\"\n          className={this.state.uploadEnabled ? \"\" : style.hide}\n          percent={this.state.uploadProgress}\n          attached=\"top\"\n          success={this.state.uploadStatus === \"success\"}\n          warning={this.state.uploadStatus === \"warning\"}\n          error={this.state.uploadStatus === \"error\"}\n        />\n\n        <Table celled striped>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell colSpan=\"4\">\n                <HStack verticalAlignment={FlexAlignment.Center}>\n                  <span className={style.pathSpan}\n                    onClick={() => {\n                      this.navigate(\"\")\n                    }}\n                  ><Icon name=\"home\" /></span>\n\n                  <span>/</span>\n\n                  <div className={style.path}>\n                    {\n                      this.props.pathStack\n                        .map((v, i, arr) => (\n                          <span key={`${this.getPathString()}-nav-${i}`}>\n                            <span className={style.pathSpan}\n                              onClick={() => {\n                                this.navigate(arr.slice(0, i + 1).join(\"/\"))\n                              }}\n                            >{v}</span>\n                            <span>/</span>\n                          </span>\n                        ))\n                    }\n                  </div>\n\n                  <HStack>\n                    <Button\n                      color=\"green\"\n                      size=\"mini\"\n                      type=\"button\"\n                      onClick={() => { (document.querySelector(\"#s3-uploader\") as HTMLInputElement).click() }}\n                    >Upload</Button>\n\n                    <ReactS3Uploader\n                      id=\"s3-uploader\"\n                      className={style.uploader}\n                      signingUrl=\"/space/sign\"\n                      signingUrlMethod=\"GET\"\n                      accept=\"*/*\"\n                      signingUrlWithCredentials={true}\n                      signingUrlQueryParams={{ prefix: this.getPathString() }}\n                      contentDisposition=\"auto\"\n                      scrubFilename={(filename: any) => encodeURI(filename)}\n                      server={endpoint}\n                      autoUpload={true}\n                      preprocess={this.onUploaderPreprocess}\n                      onProgress={this.onUploaderProgress}\n                      onFinish={this.onUploaderFinish}\n                    />\n\n                    <Button color=\"blue\" size=\"mini\" onClick={this.onNewFolderButtonClick}>New Folder</Button>\n                    <Button color=\"red\" size=\"mini\" onClick={this.onDeleteButtonClick}>Delete</Button>\n                  </HStack>\n                </HStack>\n              </Table.HeaderCell>\n            </Table.Row>\n\n            <Table.Row>\n              <Table.HeaderCell>\n                {/* <Icon\n                  className={style.selector}\n                  name=\"minus square outline\"\n                  onClick={this.onMinusIconClick}\n                /> */}\n              </Table.HeaderCell>\n              <Table.HeaderCell>\n                Name\n              </Table.HeaderCell>\n              <Table.HeaderCell>\n                Size\n              </Table.HeaderCell>\n              <Table.HeaderCell className={style.nowrap}>\n                Last Modified\n              </Table.HeaderCell>\n            </Table.Row>\n\n          </Table.Header>\n\n          <Table.Body>\n            {\n              this.state.fileList.map((v, i) => {\n                let element\n                if (v.type === \"file\") {\n                  element = (\n                    <a href={\n                      \"https://cdn.coden.hk/\" + this.state.prefix + this.getPathString() + v.name}\n                    >{v.name}</a>\n                  )\n                } else {\n                  element = (<span>{v.name}</span>)\n                }\n\n                let iconClass: SemanticICONS\n                if (i === this.state.selectedIndex) {\n                  iconClass = \"check square outline\"\n                } else {\n                  iconClass = \"square outline\"\n                }\n\n                return (\n                  <Table.Row key={`${this.getPathString()}-${i}`}>\n                    <Table.Cell collapsing>\n                      <Icon\n                        className={style.selector}\n                        name={iconClass}\n                        onClick={() => this.onLeadingIconClick(i)} />\n                    </Table.Cell>\n\n                    <Table.Cell>\n                      <span className={style.fileItem} onClick={() => {\n                        if (v.type === \"file\") {\n                          const path = encodeURI(this.getPathString() + v.name)\n                          window.open(`${endpoint}/space/file/?path=${path}`)\n                        } else {\n                          this.navigate(this.getPathString() + v.name + \"/\")\n                          this.setState({ selectedIndex: -1 })\n                        }\n                      }}>\n                        <Icon name={v.type as SemanticICONS} />{element}\n                      </span>\n                    </Table.Cell>\n                    <Table.Cell collapsing>\n                      <div className={style.padded}>{v.size || \"-\"}</div>\n                    </Table.Cell>\n                    <Table.Cell collapsing textAlign=\"center\">\n                      <div className={style.padded}>{v.lastModified || \"-\"}</div>\n                    </Table.Cell>\n                  </Table.Row>\n                )\n              })\n            }\n          </Table.Body>\n        </Table>\n      </Segment>\n    )\n  }\n}\n\nexport default withRouter(FileBrowser)\n","import React from \"react\"\nimport { Container, Menu, MenuItemProps } from \"semantic-ui-react\"\n\nimport \"./index.css\"\n\ninterface INavigationBarStates {\n  activeItem: string\n}\n\nexport default class NavigationBar extends React.Component<{}, INavigationBarStates> {\n  public state: INavigationBarStates = {\n    activeItem: \"home\"\n  }\n\n  public handleItemClick = (\n    e: React.MouseEvent<HTMLAnchorElement, MouseEvent>,\n    data: MenuItemProps\n  ) => this.setState({ activeItem: data.name || \"\" })\n\n  public render() {\n    const { activeItem } = this.state\n\n    return (\n      <Container className={\"navigation-bar-container\"}>\n        <Menu secondary>\n          <div className={\"main-title\"}>CODEN | SPACE</div>\n          <Menu.Menu position=\"right\">\n            <Menu.Item\n              name=\"logout\"\n              active={activeItem === \"logout\"}\n              onClick={this.handleItemClick}\n            />\n          </Menu.Menu>\n        </Menu>\n      </Container>\n    )\n  }\n}\n","import React from \"react\"\n\nimport { Container } from \"semantic-ui-react\"\n\nimport FileBrowser from \"../../components/FileBrowser\"\nimport NavigationBar from \"../../components/NavigationBar\"\n\ninterface IBrowserViewStates {\n  pathStack: string[]\n}\n\nexport default class BrowserView extends React.Component<{}, IBrowserViewStates> {\n  public state: IBrowserViewStates = {\n    pathStack: []\n  }\n\n  public onPathChange = (pathStack: string[]) => { this.setState({ pathStack }) }\n\n  public render() {\n    return (\n      <div>\n        <NavigationBar />\n        <Container>\n          <FileBrowser pathStack={this.state.pathStack}\n            onPathChange={this.onPathChange} />\n        </Container>\n      </div>\n    )\n  }\n}\n","import Nexus from \"nexus/client\"\nimport React from \"react\"\nimport { RouteComponentProps, withRouter } from \"react-router\"\nimport { Button, Dimmer, Input, Loader, Segment } from \"semantic-ui-react\"\n\ninterface IPathParams {\n  resource: string\n}\n\ninterface IState {\n  password: string,\n  loading: boolean,\n  inputRef: HTMLInputElement | null\n}\n\ntype IProps = RouteComponentProps<IPathParams>\n\nclass LoginView extends React.Component<IProps, IState> {\n  public state: IState = {\n    inputRef: null,\n    loading: false,\n    password: \"\"\n  }\n\n  private space = new Nexus.Space({ endpoint: \"http://localhost:8080\" })\n\n  public onInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      inputRef: (event.target as HTMLInputElement),\n      password: event.target.value\n    })\n  }\n\n  public onInputKeyDown(event: KeyboardEvent) {\n    if (event.keyCode === 13) {\n      this.onConfirm()\n    }\n  }\n\n  public onConfirm() {\n    const resource = this.props.match.params.resource\n    this.setState({ loading: true })\n    this.space.auth(resource, this.state.password)\n      .then((value) => {\n        this.props.history.push(`/files/${resource}`)\n      })\n      .catch((reason: Error) => {\n        this.setState({ loading: false })\n        this.state.inputRef!.value = \"\"\n        alert(\"密码错误\")\n        return\n      })\n  }\n\n  public render() {\n    return (\n      <div style={{\n        alignItems: \"center\",\n        backgroundColor: \"#eeeeee\",\n        display: \"flex\",\n        height: \"100vh\",\n        justifyContent: \"center\",\n        width: \"100vw\"\n      }}>\n        <div style={{\n          width: \"40%\"\n        }}>\n          <Segment color=\"grey\">\n            {\n              this.state.loading &&\n              <Dimmer active inverted>\n                <Loader />\n              </Dimmer>\n            }\n\n            <h3>Login into {this.props.match.params.resource}</h3>\n            <Input\n              fluid\n              type=\"password\"\n              placeholder=\"Password\"\n              onKeyDown={(e: any) => { this.onInputKeyDown(e) }}\n              onChange={(e) => { this.onInputChange(e) }}\n            />\n            <div style={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              marginTop: 10\n            }}>\n              <Button onClick={() => { this.onConfirm() }}>Login</Button>\n            </div>\n          </Segment>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(LoginView)\n","import React from \"react\"\nimport { Icon } from \"semantic-ui-react\"\n\nexport default class NotFoundView extends React.Component {\n  public render() {\n    return (\n      <div style={{\n        alignItems: \"center\",\n        display: \"flex\",\n        height: \"100vh\",\n        justifyContent: \"center\"\n      }}>\n        <div style={{\n          display: \"flex\",\n          fontSize: 40\n        }}>\n          <Icon name=\"ban\" />\n          <span style={{\n            marginLeft: 20\n          }}>404 Not Found</span>\n        </div>\n      </div >\n    )\n  }\n}\n","import React from \"react\"\nimport { HashRouter, Route, Switch } from \"react-router-dom\"\n\nimport BrowserView from \"../BrowserView\"\nimport LoginView from \"../LoginView\"\nimport NotFoundView from \"../NotFoundView\"\n\nexport default class IndexView extends React.Component {\n    public render() {\n        return (\n            <HashRouter>\n                <Switch>\n                    <Route path=\"/files/:resource\" exact component={BrowserView} />\n                    <Route path=\"/login/:resource\" exact component={LoginView} />\n                    <Route component={NotFoundView} />\n                </Switch>\n            </HashRouter>\n        )\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport RouteView from \"./views/RouteView\"\n\nimport * as serviceWorker from \"./serviceWorker\"\n\nimport \"semantic-ui-css/semantic.min.css\"\n\nReactDOM.render(<RouteView />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar FlexAlignment;\n\n(function (FlexAlignment) {\n  FlexAlignment[\"Center\"] = \"center\";\n  FlexAlignment[\"Leading\"] = \"flex-start\";\n  FlexAlignment[\"Trailing\"] = \"flex-end\";\n})(FlexAlignment = exports.FlexAlignment || (exports.FlexAlignment = {}));"],"sourceRoot":""}